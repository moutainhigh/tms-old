alter table nw_print_templet add head_formula varchar(1000);
alter table nw_print_templet add body_formula varchar(1000);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 9, '表头公式', null, 0, 1, null, 0, null, 1000, 'head_formula', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A410000000001I0L', '092441359XS20001OUu4', '@@@@', 0, '(100,100)', null, null, 'N', 1, 6, 'nw_print_templet', 'nw_print_templet', 0, '2014-11-22 20:42:32', 'N', null, null, null, 0, 1, 'N', 0, null, 4);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 9, '表体公式', null, 0, 1, null, 0, null, 1000, 'body_formula', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A410000000001I0L', '092441359XS20001thR1', '@@@@', 0, '(100,100)', null, null, 'N', 1, 7, 'nw_print_templet', 'nw_print_templet', 0, '2014-11-22 20:42:32', 'N', null, null, null, 0, 1, 'N', 0, null, 4);
insert into nw_ref_relation (pk_ref_relation, dr, ts, referencedtablekey, referencedtablename, referencingtablecolumn, referencingtablename, ismodifycheck, create_user, create_time) values ('44e53305213c412fa8f23918c1bd0a3a', 0, '2014-11-20 16:13:24', 'pk_report_templet', 'nw_report_templet', 'pk_templet', 'nw_templet_dist', 'N', '0001', '2014-11-20 16:13:24');

insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 0, '关键字', null, 0, 1, null, 0, null, 50, 'idcolname', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '000406345C0130001se5', '131823521B9E0001AYe3', '@@@@', 1, null, null, null, 'N', 1, 16, 'nw_report_templet_b', '报表初始化子表', 0, '2014-11-23 13:18:23', 'N', null, null, null, 0, 1, 'N', 0, null, 100);

insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 0, '客户订单号', null, 0, 0, null, 0, null, 100, 'cust_orderno', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A4100000000012LV', '16180198478B0001app0', '@@@@', 1, null, null, null, 'N', 1, 2, 'ts_rece_check_sheet_b', null, 0, '2014-11-23 16:18:02', 'N', null, null, null, 0, 1, 'N', 0, null, 80);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 0, '订单号', null, 0, 0, null, 0, null, 100, 'orderno', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A4100000000012LV', '16180198478B0001LPQ1', '@@@@', 1, null, null, null, 'N', 1, 3, 'ts_rece_check_sheet_b', null, 0, '2014-11-23 16:18:02', 'N', null, null, null, 0, 1, 'N', 0, null, 80);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 0, '要求提货日期', null, 0, 0, null, 0, null, 100, 'req_deli_date', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A4100000000012LV', '16180198478B0001Yqa5', '@@@@', 1, null, null, null, 'N', 1, 4, 'ts_rece_check_sheet_b', null, 0, '2014-11-23 16:18:02', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
update nw_billtemplet_b set loadformula='invoice_vbillno,num_count,fee_weight_count,volume_count,trans_fee_count,other_fee_count,cost_amount,rece_detail_memo->getcolsvalue("ts_receive_detail", "invoice_vbillno","num_count","fee_weight_count","volume_count","trans_fee_count","other_fee_count","cost_amount","memo", "pk_receive_detail", pk_receive_detail);cust_orderno,orderno,req_deli_date,pk_customer,bala_customer,pk_trans_type,pk_delivery,pk_arrival,deli_city,arri_city,invoice_memo->getcolsvalue("ts_invoice","cust_orderno","orderno","req_deli_date","pk_customer","bala_customer","pk_trans_type","pk_delivery","pk_arrival","deli_city","arri_city","memo","vbillno",invoice_vbillno);pk_customer->getColValue(ts_customer, cust_name, pk_customer, pk_customer);bala_customer->getColValue(ts_customer, cust_name, pk_customer, bala_customer);pk_trans_type->getColValue(ts_trans_type, name, pk_trans_type, pk_trans_type);pk_delivery->getColValue(ts_address, addr_name, pk_address, pk_delivery);pk_arrival->getColValue(ts_address, addr_name, pk_address, pk_arrival);deli_city->getColValue(ts_area, name, pk_area, deli_city);arri_city->getColValue(ts_area, name, pk_area, arri_city);invoice_memo->getColValue(ts_invoice, memo, vbillno, invoice_vbillno);' where pk_billtemplet_b='0001A41000000000145S';

insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 0, '车型', null, 0, 0, null, 0, null, 100, 'pk_car_type', 0, 'N', 1, 'N', null, 0, null, null, null, 'N', 0, null, '0001A4100000000016IA', '16280364378B0001Csk2', '@@@@', 1, null, null, null, 'N', 0, 10, 'ts_pay_check_sheet_b', null, 0, '2014-11-23 16:28:03', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 0, '车型', null, 0, 0, null, 0, null, 100, 'car_type_name', 0, 'N', 1, 'Y', 'car_type_name->getcolvalue(ts_car_type,name,pk_car_type,pk_car_type)', 0, null, null, null, 'N', 0, null, '0001A4100000000016IA', '16280364378B0001Mgp5', '@@@@', 1, null, null, null, 'N', 1, 11, 'ts_pay_check_sheet_b', null, 0, '2014-11-23 16:28:03', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 0, '车牌号', null, 0, 0, null, 0, null, 100, 'carno', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A4100000000016IA', '16280364378B0001WkB3', '@@@@', 1, null, null, null, 'N', 1, 12, 'ts_pay_check_sheet_b', null, 0, '2014-11-23 16:28:03', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
update nw_billtemplet_b set loadformula='entrust_vbillno,num_count,fee_weight_count,volume_count,cost_amount,pay_detail_memo->getcolsvalue("ts_pay_detail", "entrust_vbillno","num_count","fee_weight_count","volume_count","cost_amount","memo", "pk_pay_detail", pk_pay_detail);pk_car_type,carno,pk_carrier,pk_trans_type,pk_delivery,pk_arrival,deli_city,arri_city,entrust_memo->getcolsvalue("ts_entrust","pk_car_type","carno","pk_carrier","pk_trans_type","pk_delivery","pk_arrival","deli_city","arri_city","memo","vbillno",entrust_vbillno);pk_carrier->getColValue(ts_carrier, carr_name, pk_carrier, pk_carrier);pk_trans_type->getColValue(ts_trans_type, name, pk_trans_type, pk_trans_type);pk_delivery->getColValue(ts_address, addr_name, pk_address, pk_delivery);pk_arrival->getColValue(ts_address, addr_name, pk_address, pk_arrival);deli_city->getColValue(ts_area, name, pk_area, deli_city);arri_city->getColValue(ts_area, name, pk_area, arri_city);entrust_memo->getColValue(ts_entrust, memo, vbillno, entrust_vbillno);' where pk_billtemplet_b='0001A4100000000016JS';

alter table nw_report_templet_b alter column loadformula varchar(2000);
alter table nw_print_templet alter column head_formula varchar(2000);
alter table nw_print_templet alter column body_formula varchar(2000);