alter table ts_rece_detail_b add contract_amount decimal(20,8);
alter table ts_pay_detail_b add contract_amount decimal(20,8);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 2, '合同金额', null, 0, 0, null, 0, null, 13, 'contract_amount', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A410000000000ERD', '2012087643530001FRs3', '@@@@', 1, null, null, null, 'N', 1, 9, 'ts_rece_detail_b', '费用明细', 0, '2015-01-07 20:15:58', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 2, '合同金额', null, 0, 0, null, 0, null, 13, 'contract_amount', 0, 'N', 1, 'N', null, 0, null, null, null, 'N', 0, null, '142215939CE5B0001Cc5', '2013050153530001WJa4', '@@@@', 1, null, null, null, 'N', 0, 8, 'ts_rece_detail_b', '费用明细', 0, '2015-01-07 20:16:26', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 2, '合同金额', null, 0, 0, null, 0, null, 13, 'contract_amount', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A410000000000JEW', '2013580353530001Whb7', '@@@@', 1, null, null, null, 'N', 1, 9, 'ts_pay_detail_b', '费用明细', 0, '2015-01-07 22:43:54', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 2, '合同金额', null, 0, 0, null, 0, null, 13, 'contract_amount', 0, 'N', 1, 'N', null, 0, null, null, null, 'N', 0, null, '152140117AED50001hs4', '2014291343530001pUr6', '@@@@', 1, null, null, null, 'N', 0, 8, 'ts_pay_detail_b', '费用明细', 0, '2015-01-07 20:15:35', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 2, '合同金额', null, 0, 0, null, 0, null, 13, 'contract_amount', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A410000000000GCN', '21131194244E0001tOQ6', '@@@@', 1, null, null, null, 'N', 1, 9, 'ts_rece_detail_b', '费用明细', 0, '2015-01-07 21:44:57', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 2, '合同金额', null, 0, 0, null, 0, null, 13, 'contract_amount', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A410000000000JM2', '21134957144E0001PWW8', '@@@@', 1, null, null, null, 'N', 1, 9, 'ts_pay_detail_b', '费用明细', 0, '2015-01-07 21:46:47', 'N', null, null, null, 0, 1, 'N', 0, null, 100);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 2, '合同金额', null, 0, 0, null, 0, null, 13, 'contract_amount', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '0001A410000000000O0Y', '23164573378E0001ICI8', '@@@@', 1, '2,,,,,Y,', null, null, 'N', 1, 9, 'ts_pay_detail_b', '费用明细', 0, '2015-01-07 23:16:46', 'N', null, null, null, 0, 1, 'N', 0, null, 100);

alter table ts_pod alter column pod_date char(19);
update nw_billtemplet_b set datatype=15,metadataproperty='110' where pk_billtemplet_b='0001A41000000000180A';

update ts_rece_detail_b set contract_amount=amount where system_create='Y';
update ts_pay_detail_b set contract_amount=amount where system_create='Y';



--alter和下面的update必须分开执行，否则出错？
alter table ts_invoice add dbilldate char(10);
alter table ts_segment add dbilldate char(10);
alter table ts_entrust add dbilldate char(10);
alter table ts_exp_accident add dbilldate char(10);
alter table ts_pay_detail add dbilldate char(10);
alter table ts_pay_check_sheet add dbilldate char(10);
alter table ts_pay_record add dbilldate char(10);
alter table ts_receive_detail add dbilldate char(10);
alter table ts_rece_check_sheet add dbilldate char(10);
alter table ts_rece_record add dbilldate char(10);
alter table ts_assist_tools_mgr add dbilldate char(10);
alter table ts_instorage add dbilldate char(10);
alter table ts_outstorage add dbilldate char(10);
alter table ts_transaction add dbilldate char(10);
alter table ts_pick_detail add dbilldate char(10);
alter table ts_storage_ajust add dbilldate char(10);

update ts_entrust set dbilldate=substring(ts,1,11) ;
update ts_exp_accident set dbilldate=substring(ts,1,11) ;
update ts_pay_detail set dbilldate=substring(ts,1,11) ;
update ts_pay_check_sheet set dbilldate=substring(ts,1,11) ;
update ts_pay_record set dbilldate=substring(ts,1,11) ;
update ts_receive_detail set dbilldate=substring(ts,1,11) ;
update ts_rece_check_sheet set dbilldate=substring(ts,1,11) ;
update ts_rece_record set dbilldate=substring(ts,1,11) ;
update ts_assist_tools_mgr set dbilldate=substring(ts,1,11) ;
update ts_instorage set dbilldate=substring(ts,1,11) ;
update ts_outstorage set dbilldate=substring(ts,1,11) ;
update ts_transaction set dbilldate=substring(ts,1,11) ;
update ts_pick_detail set dbilldate=substring(ts,1,11) ;
update ts_storage_ajust set dbilldate=substring(ts,1,11) ;
update ts_invoice set dbilldate=substring(ts,1,11) ;
update ts_segment set dbilldate=substring(ts,1,11) ;

alter table nw_report_templet_b add font_color varchar(20);
alter table nw_report_templet_b add background_color varchar(20);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 11, '背景颜色', null, 0, 1, null, 0, null, 20, 'background_color', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '000406345C0130001se5', '16003592383C0001kWg2', '@@@@', 1, 'colorpicker', null, null, 'N', 1, 18, 'nw_report_templet_b', '报表初始化子表', 0, '2015-01-12 16:00:36', 'N', null, null, null, 0, 1, 'N', 0, null, 60);
insert into nw_billtemplet_b (cardflag, datatype, defaultshowname, defaultvalue, dr, editflag, editformula, foreground, idcolname, inputlength, itemkey, itemtype, leafflag, listflag, listshowflag, loadformula, lockflag, metadatapath, metadataproperty, metadatarelation, newlineflag, nullflag, OPTIONS, pk_billtemplet, pk_billtemplet_b, pk_corp, pos, reftype, resid, resid_tabname, reviseflag, showflag, showorder, table_code, table_name, totalflag, ts, userdefflag, userdefine1, userdefine2, userdefine3, usereditflag, userflag, userreviseflag, usershowflag, validateformula, width) values (1, 11, '字体颜色', null, 0, 1, null, 0, null, 20, 'font_color', 0, 'N', 1, 'Y', null, 0, null, null, null, 'N', 0, null, '000406345C0130001se5', '16003592383C0001UjJ1', '@@@@', 1, 'colorpicker', null, null, 'N', 1, 17, 'nw_report_templet_b', '报表初始化子表', 0, '2015-01-12 16:00:36', 'N', null, null, null, 0, 1, 'N', 0, null, 60);


alter table ts_ent_tracking add node_flag char(1);
alter table ts_inv_tracking add node_flag char(1);